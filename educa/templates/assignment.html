{% extends "course_layout.html" %}
{% block course_content %}
  <div class="course-content">
    <div class="assignment-title">
      <h3>{{ assignment.title }}</h3>
    </div>
    <div class="assignment-info">
      <h5>Due: {{ assignment.duedate }}</h5>
      <h5 class="ml-1">Points: {{ assignment.points }}</h5>
      <h5 class="ml-1">Questions: {{ questions| length }}</h5>
    </div>
    <div class="assignment-instructions">
      <h5>Instructions:</h5>
      <p>{{ assignment.content| safe }}</p>
    </div>

    {% if done == False %}
      <form class="form-group" action="" method="POST">
        {% for i in range(questions| length) %}
          <div class="questions">
            <div class="card">
              <div class="card-header">
                <h4>{{ questions[i].title }}</h4>
              </div>
              <div class="card-body">
                <h5 class="card-title">{{ questions[i].content }}</h5>
                {% if questions[i].type == "multiple_choice" %}
                  {% for option in options_dict[questions[i].title] %}
                    <div class="options">
                      <input id="question_{{ i }}" type="radio" name="question_{{ i }}" value="{{ option.content }}">
                      <label for="question_{{ i }}">{{ option.content }}</label>
                    </div>
                  {% endfor %}
                {% elif questions[i].type == "input" %}
                  <input class="form-control" type="text" name="question_{{ i }}">
                {% else %}
                  <textarea id="mytextarea" class="form-control" name="question_{{ i }}" rows="8" cols="80"></textarea>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
        <div class="d-flex justify-content-center">
          <button class="btn btn-outline-primary" type="submit" name="button">Submit</button>
        </div>
      </form>
    {% else %}
      {% if assignment.type != "Instructions" %}
        <p>Finished!</p>
      {% endif %}
    {% endif %}

  </div>
{% endblock course_content %}
